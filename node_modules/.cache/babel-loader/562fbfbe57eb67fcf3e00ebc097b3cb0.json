{"remainingRequest":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\babel-loader\\lib\\index.js!D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\src\\views\\cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\src\\views\\cart.vue","mtime":1584349763112},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RzOiBbXSwKICAgICAgdG90YWxzOiAwLAogICAgICAvL+aAu+S7t+agvAogICAgICBjaGVja2VkOiB0cnVlIC8v6buY6K6k5YWo6YCJCgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbDogZnVuY3Rpb24gZGVsKGluZGV4KSB7CiAgICAgIHRoaXMubGlzdHMuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICAvLyDmjqfliLblhajpgInkuI7lj43pgIkKICAgIGNoZWNrQWxsOiBmdW5jdGlvbiBjaGVja0FsbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubGlzdHMuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGRhdGEuaXNTZWxlY3QgPSAhX3RoaXMuY2hlY2tlZDsKICAgICAgfSk7CiAgICAgIHRoaXMuY2hlY2tlZCA9ICF0aGlzLmNoZWNrZWQ7CiAgICB9LAogICAgY2hlY2tib3hjbGljazogZnVuY3Rpb24gY2hlY2tib3hjbGljaygpIHsKICAgICAgLy/nrKzkuIDmrKHpobXpnaLliqDovb3ov4fnqIvkuK3vvIzliKTmlq3mlbDmja7kuK1pc1NlbGV054q25oCB77yM5aaC5p6c5YWo6YOo5Li6dHJ1Ze+8jOmCo+S5iOi/lOWbnnRydWUKICAgICAgdGhpcy5jaGVja2VkID0gdGhpcy5saXN0cy5ldmVyeShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlzU2VsZWN0OyAvL+WPquaciemAiemhueS4reWFqOmDqOS4unRydWXvvIzov5Tlm550cnVl44CC5Y+q6KaB5pyJ5LiA5LiqZmFsc2XvvIzov5Tlm55mYWxzZQogICAgICB9KTsKICAgIH0sCiAgICAvLyDljZXlh7vllYblk4HliJfooajpgInpobnmk43kvZwKICAgIGlucHV0c2VsZWN0OiBmdW5jdGlvbiBpbnB1dHNlbGVjdChpbmRleCkgewogICAgICAvLyDkv67mlLnllYblk4HliJfooajmlbDmja4KICAgICAgdGhpcy5saXN0c1tpbmRleF0uaXNTZWxlY3QgPSAhdGhpcy5saXN0c1tpbmRleF0uaXNTZWxlY3Q7CiAgICAgIHRoaXMuY2hlY2tib3hjbGljaygpOwogICAgICB0aGlzLnN1bSgpOwogICAgfSwKICAgIC8vIOaAu+S7t+agvOiuoeeulwogICAgc3VtOiBmdW5jdGlvbiBzdW0oKSB7CiAgICAgIC8vIOaAu+S7t+agvOiuoeeulwogICAgICAvLyByZWR1Y2UoKei/lOWbnuiuoeeul+aAu+S7t+agvAogICAgICAvLyB0b3RhbCDmgLvku7fmoLzntK/liqAKICAgICAgLy8gaXRlbSDmlbDmja7kuK3lr7nosaEKICAgICAgdGhpcy50b3RhbHMgPSB0aGlzLmxpc3RzLnJlZHVjZShmdW5jdGlvbiAodG90YWwsIGl0ZW0pIHsKICAgICAgICAvLyDliKTmlq3pgInpobkKICAgICAgICBpZiAoIWl0ZW0uaXNTZWxlY3QpIHJldHVybiB0b3RhbDsgLy9mYWxzZeS4jeiuqeiuoeeul+aAu+S7t+agvAoKICAgICAgICByZXR1cm4gdG90YWwgKyBwYXJzZUludChpdGVtLnByaWNlKSAqIHBhcnNlSW50KGl0ZW0ubnVtKTsgLy/mgLvku7fmoLwKICAgICAgfSwgMCk7IC8v5oC75Lu35qC86buY6K6k5Y+C5pWw5YC85Li6MAogICAgfSwKICAgIG9uc3VibWl0OiBmdW5jdGlvbiBvbnN1Ym1pdCgpIHsKICAgICAgLy8g5Yik5pat55So5oi35ZCN5piv5ZCm5Li656m6CiAgICAgIC8vIOS4uuepuu+8mui3s+i9rOeZu+mZhumhtemdogogICAgICAvLyDkuI3kuLrnqbo66K6i5Y2V6aG16Z2iCiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2VybmFtZSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvb3JkZXInKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXRoOiAiL2xvZ2luIiwKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIHBhdGg6ICIvb3JkZXIiCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxpc3RzID0gdGhpcy4kc3RvcmUuc3RhdGUuY2FydC5saXN0czsKICAgIHRoaXMuc3VtKCk7IC8v5omn6KGM6K6h566X5oC75Lu35qC8CgogICAgdGhpcy5jaGVja2JveGNsaWNrKCk7CiAgfSwKICBiZWZvcmVVcGRhdGU6IGZ1bmN0aW9uIGJlZm9yZVVwZGF0ZSgpIHsKICAgIHRoaXMuc3VtKCk7IC8v5omn6KGM6K6h566X5oC75Lu35qC8CiAgfQp9Ow=="},{"version":3,"sources":["cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA,CAFA;AAEA;AACA,MAAA,OAAA,EAAA,IAHA,CAGA;;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,GADA,eACA,KADA,EACA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,KAHA;AAIA;AACA,IAAA,QALA,sBAKA;AAAA;;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,QAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA,OAFA;AAGA,WAAA,OAAA,GAAA,CAAA,KAAA,OAAA;AACA,KAVA;AAWA,IAAA,aAXA,2BAWA;AACA;AACA,WAAA,OAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,QAAA,CADA,CACA;AACA,OAFA,CAAA;AAGA,KAhBA;AAiBA;AACA,IAAA,WAlBA,uBAkBA,KAlBA,EAkBA;AACA;AACA,WAAA,KAAA,CAAA,KAAA,EAAA,QAAA,GAAA,CAAA,KAAA,KAAA,CAAA,KAAA,EAAA,QAAA;AACA,WAAA,aAAA;AACA,WAAA,GAAA;AACA,KAvBA;AAwBA;AACA,IAAA,GAzBA,iBAyBA;AACA;AACA;AACA;AACA;AACA,WAAA,MAAA,GAAA,KAAA,KAAA,CAAA,MAAA,CAAA,UAAA,KAAA,EAAA,IAAA,EAAA;AACA;AACA,YAAA,CAAA,IAAA,CAAA,QAAA,EAAA,OAAA,KAAA,CAFA,CAEA;;AACA,eAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,GAAA,QAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CAHA,CAGA;AACA,OAJA,EAIA,CAJA,CAAA,CALA,CASA;AACA,KAnCA;AAoCA,IAAA,QApCA,sBAoCA;AACA;AACA;AACA;AACA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,OAFA,MAEA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,QADA;AAEA,UAAA,KAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA;AAFA,SAAA;AAMA;AACA;AAlDA,GARA;AA4DA,EAAA,OA5DA,qBA4DA;AACA,SAAA,KAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,KAAA;AACA,SAAA,GAAA,GAFA,CAEA;;AACA,SAAA,aAAA;AACA,GAhEA;AAiEA,EAAA,YAjEA,0BAiEA;AACA,SAAA,GAAA,GADA,CACA;AACA;AAnEA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <van-nav-bar\r\n        :title=\"$route.name\"\r\n        />\r\n\r\n        <h1 v-show=\"lists.length == 0\">\r\n            购物车为空 <router-link to=\"/home/recommend\" tag=\"button\">去逛逛</router-link>\r\n        </h1>\r\n\r\n        <div v-for=\"(item,index) in lists\" :key=\"index\">\r\n            \r\n            <van-card\r\n                :price=\"item.price\"\r\n                desc=\"描述信息\"\r\n                :title=\"item.name\"\r\n                thumb=\"https://img.yzcdn.cn/vant/ipad.jpeg\"\r\n                >\r\n                \r\n                <div slot=\"tags\">\r\n                    \r\n                    <van-tag plain @click=\"item.num <=1?1:item.num--\" >-</van-tag>\r\n                    <input type=\"text\" v-model=\"item.num\" class=\"num\" >\r\n                    <van-tag plain @click=\"item.num++\" >+</van-tag>\r\n                </div>\r\n                <div slot=\"footer\">\r\n                    <div class=\"checkboxselect\" @click=\"inputselect(index)\">\r\n                        <van-icon name=\"success\" v-show=\"item.isSelect\" />\r\n                    </div>  \r\n                    <!-- <input type=\"checkbox\" class=\"checkboxbutton\" :checked=\"item.isSelect\" @click=\"inputselect(index)\"> -->\r\n                    <van-button size=\"mini\" class=\"delbutton\" @click=\"del(index)\">删除</van-button>\r\n                </div>\r\n            </van-card>\r\n        </div>\r\n\r\n        <div v-show=\"lists.length == 0\">\r\n            <van-divider dashed>猜你喜欢</van-divider>\r\n                \r\n            <router-link to=\"/details\" tag=\"a\">\r\n                <van-card\r\n                    num=\"2\"\r\n                    price=\"2.00\"\r\n                    desc=\"描述信息\"\r\n                    title=\"商品标题\"\r\n                    thumb=\"https://img.yzcdn.cn/vant/ipad.jpeg\"\r\n                />\r\n            </router-link>\r\n            <router-link to=\"/details\" tag=\"a\">\r\n                <van-card\r\n                    num=\"2\"\r\n                    price=\"2.00\"\r\n                    desc=\"描述信息\"\r\n                    title=\"商品标题\"\r\n                    thumb=\"https://img.yzcdn.cn/vant/ipad.jpeg\"\r\n                />\r\n            </router-link>\r\n        </div>\r\n    \r\n\r\n        <van-submit-bar\r\n            :price=\"totals * 100\"\r\n            button-text=\"提交订单\"\r\n            @submit=\"onsubmit\"\r\n            v-show=\"lists.length != 0\"\r\n            >\r\n            <van-checkbox @click=\"checkAll\" :value=\"checked\"  >全选</van-checkbox>\r\n        </van-submit-bar>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data:function(){\r\n            return {\r\n                lists:[],\r\n                totals:0, //总价格\r\n                checked:true,//默认全选\r\n            }\r\n        },\r\n        methods:{\r\n            del(index){\r\n                this.lists.splice(index,1);\r\n            },\r\n            // 控制全选与反选\r\n            checkAll(){\r\n                this.lists.forEach((data)=>{\r\n                    data.isSelect = !this.checked;\r\n                })\r\n                this.checked = !this.checked;\r\n            },\r\n            checkboxclick(){\r\n                //第一次页面加载过程中，判断数据中isSelet状态，如果全部为true，那么返回true\r\n                this.checked =  this.lists.every((item)=>{\r\n                    return item.isSelect; //只有选项中全部为true，返回true。只要有一个false，返回false\r\n                }) \r\n            },\r\n            // 单击商品列表选项操作\r\n            inputselect(index){\r\n                // 修改商品列表数据\r\n                this.lists[index].isSelect = !this.lists[index].isSelect;\r\n                this.checkboxclick();\r\n                this.sum();\r\n            },\r\n            // 总价格计算\r\n            sum(){\r\n                // 总价格计算\r\n                // reduce()返回计算总价格\r\n                // total 总价格累加\r\n                // item 数据中对象\r\n                this.totals =  this.lists.reduce((total,item)=>{\r\n                    // 判断选项\r\n                    if(!item.isSelect) return total; //false不让计算总价格\r\n                    return total + parseInt(item.price) * parseInt(item.num);//总价格\r\n                },0);//总价格默认参数值为0\r\n            },\r\n            onsubmit(){\r\n                // 判断用户名是否为空\r\n                // 为空：跳转登陆页面\r\n                // 不为空:订单页面\r\n                if(this.$store.state.username){\r\n                    this.$router.push('/order')\r\n                }else{\r\n                    this.$router.push({\r\n                        path:\"/login\",\r\n                        query:{\r\n                            path:\"/order\"\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        created(){\r\n            this.lists = this.$store.state.cart.lists;\r\n            this.sum();//执行计算总价格\r\n            this.checkboxclick();\r\n        },\r\n        beforeUpdate() {\r\n            this.sum();//执行计算总价格\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .van-submit-bar{\r\n        bottom:50px;\r\n    }\r\n    .checkboxbutton{\r\n        position: absolute;\r\n        top:50%;\r\n        left:5px;\r\n        margin-top:-20px;\r\n    }\r\n    .delbutton{\r\n        position: absolute;\r\n        right:20px;\r\n        bottom: 5px;\r\n    }\r\n    .num{\r\n        width: 30px;\r\n        text-align: center;\r\n        font-size: 16px;\r\n    }\r\n    .checkboxselect{\r\n        position: absolute;\r\n        top:50%;\r\n        left:5px;\r\n        margin-top:-10px;\r\n        width: 20px;\r\n        height: 20px;\r\n        border-radius: 50%;\r\n        border: 1px solid #C8C9CC;\r\n        i{\r\n            display: block;\r\n            width: 20px;\r\n            height: 20px;\r\n            background: #1989FA;\r\n            border-radius: 50%;\r\n            text-align: center;\r\n            line-height: 22px;\r\n            font-size: 16px;\r\n            color:#fff;\r\n        }\r\n    }\r\n</style>"],"sourceRoot":"src/views"}]}