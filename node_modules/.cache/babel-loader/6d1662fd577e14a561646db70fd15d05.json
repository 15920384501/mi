{"remainingRequest":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\babel-loader\\lib\\index.js!D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\src\\components\\cart\\order.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\src\\components\\cart\\order.vue","mtime":1584350092057},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICIiLAogICAgICB0ZWw6ICIiLAogICAgICB0b3RhbHM6IDAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9hZGRyZXNzIik7CiAgICB9LAogICAgb25zdWJtaXQ6IGZ1bmN0aW9uIG9uc3VibWl0KCkgewogICAgICAvLyDkv53lrZjorqLljZXmlbDmja4KICAgICAgdmFyIG9yZGVyID0gewogICAgICAgIG9yZGVySWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIC8vMTU4NDA2NDcwMDk0N+mqjOivgQogICAgICAgIGFkZHJlc3M6IHRoaXMuYWRkcmVzcywKICAgICAgICBnb29kc0xpc3Q6IHRoaXMubGlzdHMsCiAgICAgICAgdHlwZTogMiAvL+W3suaUr+S7mAoKICAgICAgfTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcmxpc3QvYWRkIiwgb3JkZXIpOyAvLyDmuIXpmaTotK3nianovabmlbDmja4KCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmNhcnQubGlzdHMgPSBbXTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY2FydC5udW0gPSAwOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL29yZGVyTGlzdC9vcmRlckFsbCIpOwogICAgfSwKICAgIC8vIOacquaUr+S7mOWkhOeQhgogICAgb3JkZXJwYXk6IGZ1bmN0aW9uIG9yZGVycGF5KCkgewogICAgICAvLyDmnKrmlK/ku5jorqLljZXlpITnkIYKICAgICAgdmFyIG9yZGVyID0gewogICAgICAgIG9yZGVySWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIC8vMTU4NDA2NDcwMDk0N+mqjOivgQogICAgICAgIGFkZHJlc3M6IHRoaXMuYWRkcmVzcywKICAgICAgICBnb29kc0xpc3Q6IHRoaXMubGlzdHMsCiAgICAgICAgdHlwZTogMSAvL+acquaUr+S7mAoKICAgICAgfTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcmxpc3QvYWRkIiwgb3JkZXIpOyAvLyDmuIXpmaTotK3nianovabmlbDmja4KCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmNhcnQubGlzdHMgPSBbXTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY2FydC5udW0gPSAwOyAvLyDot7Povazot6/nlLEKCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvY2FydCIpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOaAu+S7t+agvOiuoeeulwogICAgc3VtOiBmdW5jdGlvbiBzdW0oKSB7CiAgICAgIC8vIOaAu+S7t+agvOiuoeeulwogICAgICAvLyByZWR1Y2UoKei/lOWbnuiuoeeul+aAu+S7t+agvAogICAgICAvLyB0b3RhbCDmgLvku7fmoLzntK/liqAKICAgICAgLy8gaXRlbSDmlbDmja7kuK3lr7nosaEKICAgICAgcmV0dXJuIHRoaXMubGlzdHMucmVkdWNlKGZ1bmN0aW9uICh0b3RhbCwgaXRlbSkgewogICAgICAgIC8vIOWIpOaWremAiemhuQogICAgICAgIGlmICghaXRlbS5pc1NlbGVjdCkgcmV0dXJuIHRvdGFsOyAvL2ZhbHNl5LiN6K6p6K6h566X5oC75Lu35qC8CgogICAgICAgIHJldHVybiB0b3RhbCArIHBhcnNlSW50KGl0ZW0ucHJpY2UpICogcGFyc2VJbnQoaXRlbS5udW0pOyAvL+aAu+S7t+agvAogICAgICB9LCAwKTsgLy/mgLvku7fmoLzpu5jorqTlj4LmlbDlgLzkuLowCiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy8g6buY6K6k6I635Y+W5Zyw5Z2A5L+h5oGvCiAgICB2YXIgZGVmYXVsdElkID0gdGhpcy4kc3RvcmUuc3RhdGUuYWRkcmVzcy5kZWZhdWx0SWQ7CiAgICB2YXIgZGF0YSA9IHRoaXMuJHN0b3JlLnN0YXRlLmFkZHJlc3MubGlzdHM7CiAgICB0aGlzLmFkZHJlc3MgPSBkYXRhLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0uaWQgPT0gZGVmYXVsdElkOwogICAgfSk7IC8v6buY6K6kaWTljLnphY3mlbDnu4TkuK1pZOWAvAoKICAgIHRoaXMubmFtZSA9IHRoaXMuYWRkcmVzcy5uYW1lOwogICAgdGhpcy50ZWwgPSB0aGlzLmFkZHJlc3MudGVsOyAvLyDojrflj5botK3nianovabmlbDmja4KCiAgICB0aGlzLmxpc3RzID0gdGhpcy4kc3RvcmUuc3RhdGUuY2FydC5saXN0czsKICAgIHRoaXMuJHN0b3JlLnN0YXRlLnZhblRhYmJhciA9IGZhbHNlOwogIH0sCiAgLy8g55Sf5ZG95ZGo5pyf6ZKp5a2Q77yM5pyA5ZCO6ZSA5q+B5Ye95pWwCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICAvLyDlvZPnu4Tku7booqvplIDmr4Hml7blgJnvvIzkv67mlLnlr7zoiKrmlbDmja4KICAgIHRoaXMuJHN0b3JlLnN0YXRlLnZhblRhYmJhciA9IHRydWU7CiAgfQp9Ow=="},{"version":3,"sources":["order.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <van-nav-bar\r\n        :title=\"$route.name\"\r\n        left-text=\"返回\"\r\n        left-arrow\r\n        @click-left=\"orderpay\"\r\n        />\r\n        <!-- 地址 -->\r\n        <van-contact-card\r\n        type=\"edit\"\r\n        :name=\"name\"\r\n        :tel=\"tel\"\r\n        @click=\"add\"\r\n        />\r\n\r\n        <!-- 商品列表 -->\r\n        <div v-for=\"(item,index) in lists\" :key=\"index\">\r\n            <van-card\r\n            :num=\"item.num\"\r\n            :price=\"item.price\"\r\n            desc=\"描述信息\"\r\n            :title=\"item.name\"\r\n            thumb=\"https://img.yzcdn.cn/vant/ipad.jpeg\"\r\n            />\r\n        </div>\r\n\r\n        <!-- 提交订单 -->\r\n        <van-submit-bar\r\n        :price=\"sum*100\"\r\n        button-text=\"支付\"\r\n        @submit=\"onsubmit\"\r\n        />\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data:function(){\r\n            return {\r\n                name:\"\",\r\n                tel:\"\",\r\n                totals:0\r\n            }\r\n        },\r\n        methods:{\r\n            add(){\r\n                this.$router.push(\"/address\");\r\n            },\r\n            onsubmit(){\r\n                // 保存订单数据\r\n                let order = {\r\n                    orderId:new Date().getTime(), //1584064700947验证\r\n                    address:this.address,\r\n                    goodsList:this.lists,\r\n                    type:2 //已支付\r\n                }\r\n                this.$store.commit(\"orderlist/add\",order);\r\n                // 清除购物车数据\r\n                this.$store.state.cart.lists = [];\r\n                this.$store.state.cart.num = 0;\r\n\r\n                this.$router.push(\"/orderList/orderAll\");\r\n            },\r\n            // 未支付处理\r\n            orderpay(){\r\n                // 未支付订单处理\r\n                let order = {\r\n                    orderId:new Date().getTime(), //1584064700947验证\r\n                    address:this.address,\r\n                    goodsList:this.lists,\r\n                    type:1 //未支付\r\n                }\r\n                this.$store.commit(\"orderlist/add\",order);\r\n\r\n                // 清除购物车数据\r\n                this.$store.state.cart.lists = [];\r\n                this.$store.state.cart.num = 0;\r\n\r\n                // 跳转路由\r\n                this.$router.push(\"/cart\");\r\n            }\r\n            \r\n        },\r\n        computed:{\r\n            // 总价格计算\r\n            sum(){\r\n                // 总价格计算\r\n                // reduce()返回计算总价格\r\n                // total 总价格累加\r\n                // item 数据中对象\r\n                return this.lists.reduce((total,item)=>{\r\n                    // 判断选项\r\n                    if(!item.isSelect) return total; //false不让计算总价格\r\n                    return total + parseInt(item.price) * parseInt(item.num);//总价格\r\n                },0);//总价格默认参数值为0\r\n            }\r\n        },\r\n        \r\n        created(){\r\n            // 默认获取地址信息\r\n            let defaultId = this.$store.state.address.defaultId;\r\n            let data = this.$store.state.address.lists;\r\n            this.address = data.find(item=>item.id == defaultId); //默认id匹配数组中id值\r\n            this.name = this.address.name;\r\n            this.tel = this.address.tel;\r\n\r\n            // 获取购物车数据\r\n            this.lists = this.$store.state.cart.lists;\r\n\r\n\r\n            this.$store.state.vanTabbar = false;\r\n        },\r\n        // 生命周期钩子，最后销毁函数\r\n        destroyed() {\r\n            // 当组件被销毁时候，修改导航数据\r\n            this.$store.state.vanTabbar = true;\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>"],"sourceRoot":"src/components/cart"}]}