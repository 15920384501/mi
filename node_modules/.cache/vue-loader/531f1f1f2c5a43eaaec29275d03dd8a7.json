{"remainingRequest":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\src\\views\\category.vue?vue&type=style&index=0&id=438f4c18&lang=scss&scoped=true&","dependencies":[{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\src\\views\\category.vue","mtime":1583828052999},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQovLyBzY29wZWQg5qC35byP6KaG55uWDQogICAgICAgIC5jb250ZW50ew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgICAgIC8qIOWumuS9jemHjOmdouS4jeWGmeWumuS5ieW3puWPs+agt+W8j++8jOS4jeWGmemrmOW6pu+8jOiHquWKqOiOt+WPlumrmOW6piAqLw0KICAgICAgICAgICAgdG9wOjQ2cHg7DQogICAgICAgICAgICBib3R0b206IDUwcHg7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlOw0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICB9DQogICAgICAgIC5sZWZ0ew0KICAgICAgICAgICAgZmxleDowIDAgODBweDsNCiAgICAgICAgICAgIHdpZHRoOiA4MHB4Ow0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0M4RUJGQTsNCiAgICAgICAgfQ0KICAgICAgICAubGVmdCBsaXsNCiAgICAgICAgICAgIHdpZHRoOjEwMCU7DQogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7DQogICAgICAgICAgICBmb250LXNpemU6MTRweDsNCiAgICAgICAgfQ0KICAgICAgICAubGVmdCBsaS5jdXJyZW50ew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN0FBRTsNCiAgICAgICAgICAgIGNvbG9yOiNmZmY7DQogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICAgICAgfQ0KICAgICAgICAubGVmdC1pdGVtew0KICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4Ow0KICAgICAgICAgICAgaGVpZ2h0OiA1MHB4Ow0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICB9DQogICAgICAgIC5yaWdodHsNCiAgICAgICAgICAgIGZsZXg6MTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IGF6dXJlOw0KICAgICAgICB9DQogICAgICAgIC5yaWdodC1pdGVtIGxpew0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBoZWlnaHQ6IDEwMHB4Ow0KICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEwMHB4Ow0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgeWVsbG93Ow0KICAgICAgICB9DQo="},{"version":3,"sources":["category.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"category.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        \r\n        <van-nav-bar\r\n        :title=\"$route.name\"\r\n        />\r\n        <div class=\"content\">\r\n            <div class=\"left\" ref=\"left\">\r\n                <ul>\r\n                    <li v-for=\"(item,index) in left\" :key=\"index\"  :class=\"{current:index==currentIndex}\" @click=\"selectItem(index,$event)\">\r\n                        <span class=\"left-item\">{{item}}</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"right\" ref=\"right\">\r\n                <ul>\r\n                    <!-- 循环嵌套 -->\r\n                    <li v-for=\"(item,index) in right\" :key=\"index\" class=\"right-item right-item-hook\">\r\n                        <h2>{{item.name}}</h2>\r\n                        <ul>\r\n                            <li v-for=\"num in item.content\" :key=\"num\">\r\n                                <div>\r\n                                    <router-link to=\"/details\" tag=\"a\">{{item.name + num}}</router-link>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                    \r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport BScroll from \"@better-scroll/core\";\r\n    export default {\r\n        data:function(){\r\n            return {\r\n                left:[\"新品\",\"众筹\",\"小米手机\",\"Redmi\",\"黑鲨\",\"电视\"],\r\n                right:[\r\n                    {name:\"新品\",content:[1,2,3,4,5,6]},\r\n                    {name:\"众筹\",content:[1,2,3,4]},\r\n                    {name:\"小米手机\",content:[1,2,3,4,5]},\r\n                    {name:\"Redmi\",content:[1,2,3]},\r\n                    {name:\"黑鲨\",content:[1,2,3,4]},\r\n                    {name:\"电视\",content:[1,2,3]}\r\n                ],\r\n                scrollY:0,\r\n                listHeight:[]  //存储右边每一项li高度\r\n            }\r\n        },\r\n        methods: {\r\n                _initScroll(){\r\n                    // 联动实例化插件对象\r\n                    this.lefts = new BScroll(this.$refs.left,{\r\n                        click:true, //拥有触发事件，\r\n                        probeType:3 //探针的效果，时时获取滚动高度\r\n                    });\r\n                    this.rights = new BScroll(this.$refs.right,{\r\n                        click:true, //拥有触发事件，\r\n                        probeType:3 //探针的效果，时时获取滚动高度\r\n                    });\r\n\r\n                    // right这个对象监听滚动事件，\r\n                    this.rights.on(\"scroll\",(pos)=>{\r\n                        this.scrollY = Math.abs(Math.round(pos.y));\r\n                    })\r\n                },\r\n                _getHeight(){\r\n                    let rightItems = this.$refs.right.getElementsByClassName(\"right-item-hook\");\r\n                    let height = 0;//默认高度\r\n                    this.listHeight.push(height); //添加高度数组中\r\n                    // 循环对象\r\n                    for(let i = 0;i < rightItems.length;i++){\r\n                        let item = rightItems[i];\r\n                        height += item.clientHeight; // 对象高度\r\n                        this.listHeight.push(height);\r\n                    }\r\n                    \r\n                },\r\n                // 左侧点击效果\r\n                // index 下标\r\n                // event 点击对象事件\r\n                selectItem(index,event){\r\n                    // 在better-scroll指派事件的event和普通浏览器的点击事件event有个属性区别_constructed\r\n                    // 浏览器原生点击事件没有_constructed所以当时浏览器监听到该属性时候return掉\r\n                    if(!event._constructed){\r\n                        return;\r\n                    }else{\r\n                        // 联动效果\r\n                        let rightItems = this.$refs.right.getElementsByClassName(\"right-item-hook\");\r\n                        let el = rightItems[index];\r\n                        // scrollToElement()//滚动到指定的目标元素\r\n                        this.rights.scrollToElement(el);\r\n\r\n                        // 左边联动\r\n                        let leftItems = this.$refs.left.getElementsByTagName(\"li\");\r\n                        let elLi = leftItems[index];\r\n                        this.lefts.scrollToElement(elLi);\r\n\r\n\r\n                    }\r\n                }\r\n            },\r\n            // 生命周期函数\r\n            mounted() {  //页面渲染到浏览器时候\r\n                // 生命周期函数执行代码速度比页面渲染浏览器执行速度快。html代码没有渲染成功？\r\n                // 保证页面代码浏览器正常执行后，在执行当前生命周期函数代码段\r\n                // $nextTick() 让所有DOM执行完后，回调执行方法\r\n                \r\n                this.$nextTick(()=>{\r\n                    this._initScroll();//调用初始化联动效果\r\n                    this._getHeight(); //获取右边每一项高度\r\n\r\n                    // 跳转效果\r\n                    if(\"id\" in this.$route.query){\r\n                        // 联动效果\r\n                        let rightItems = this.$refs.right.getElementsByClassName(\"right-item-hook\");\r\n                        let el = rightItems[this.$route.query.id];\r\n                        this.rights.scrollToElement(el);\r\n                    }\r\n\r\n                })\r\n                    \r\n\r\n            },\r\n            // 计算属性\r\n            computed: {\r\n                currentIndex(){\r\n                    for(let i = 0; i < this.listHeight.length;i++){\r\n                        let height = this.listHeight[i];\r\n                        let height2 = this.listHeight[i+1];\r\n                        // height2不存在时候，或落在height和height2之间时候，直接放回索引值\r\n                        if(!height2 || (this.scrollY >=height && this.scrollY < height2) ){\r\n                        \r\n                            // 左边联动\r\n                            let leftItems = this.$refs.left.getElementsByTagName(\"li\");\r\n                            let elLi = leftItems[i];\r\n                            this.lefts.scrollToElement(elLi);\r\n                            return i;\r\n                        }\r\n                    }\r\n                    // 如果this.listHeight没有值，返回0\r\n                    return 0;\r\n                }\r\n            },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// scoped 样式覆盖\r\n        .content{\r\n            display: flex;\r\n            position: absolute;\r\n            /* 定位里面不写定义左右样式，不写高度，自动获取高度 */\r\n            top:46px;\r\n            bottom: 50px;\r\n            background-color: #eeeeee;\r\n            width: 100%;\r\n            overflow: hidden;\r\n        }\r\n        .left{\r\n            flex:0 0 80px;\r\n            width: 80px;\r\n            background-color: #C8EBFA;\r\n        }\r\n        .left li{\r\n            width:100%;\r\n            height: 100%;\r\n            font-size:14px;\r\n        }\r\n        .left li.current{\r\n            background-color: #007AAE;\r\n            color:#fff;\r\n            font-weight: bold;\r\n        }\r\n        .left-item{\r\n            display: block;\r\n            width: 100%;\r\n            height: 100%;\r\n            line-height: 50px;\r\n            height: 50px;\r\n            text-align: center;\r\n        }\r\n        .right{\r\n            flex:1;\r\n            background-color: azure;\r\n        }\r\n        .right-item li{\r\n            width: 100%;\r\n            height: 100px;\r\n            line-height: 100px;\r\n            text-align: center;\r\n            border: 1px solid yellow;\r\n        }\r\n</style>\r\n\r\n"]}]}