{"remainingRequest":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\src\\components\\cart\\order.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\src\\components\\cart\\order.vue","mtime":1584350092057},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\H5\\WebStorm\\vue_cli\\HZW\\mi\\vuecode\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGE6ZnVuY3Rpb24oKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBuYW1lOiIiLAogICAgICAgICAgICB0ZWw6IiIsCiAgICAgICAgICAgIHRvdGFsczowCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGFkZCgpewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2FkZHJlc3MiKTsKICAgICAgICB9LAogICAgICAgIG9uc3VibWl0KCl7CiAgICAgICAgICAgIC8vIOS/neWtmOiuouWNleaVsOaNrgogICAgICAgICAgICBsZXQgb3JkZXIgPSB7CiAgICAgICAgICAgICAgICBvcmRlcklkOm5ldyBEYXRlKCkuZ2V0VGltZSgpLCAvLzE1ODQwNjQ3MDA5NDfpqozor4EKICAgICAgICAgICAgICAgIGFkZHJlc3M6dGhpcy5hZGRyZXNzLAogICAgICAgICAgICAgICAgZ29vZHNMaXN0OnRoaXMubGlzdHMsCiAgICAgICAgICAgICAgICB0eXBlOjIgLy/lt7LmlK/ku5gKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVybGlzdC9hZGQiLG9yZGVyKTsKICAgICAgICAgICAgLy8g5riF6Zmk6LSt54mp6L2m5pWw5o2uCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmNhcnQubGlzdHMgPSBbXTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY2FydC5udW0gPSAwOwoKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9vcmRlckxpc3Qvb3JkZXJBbGwiKTsKICAgICAgICB9LAogICAgICAgIC8vIOacquaUr+S7mOWkhOeQhgogICAgICAgIG9yZGVycGF5KCl7CiAgICAgICAgICAgIC8vIOacquaUr+S7mOiuouWNleWkhOeQhgogICAgICAgICAgICBsZXQgb3JkZXIgPSB7CiAgICAgICAgICAgICAgICBvcmRlcklkOm5ldyBEYXRlKCkuZ2V0VGltZSgpLCAvLzE1ODQwNjQ3MDA5NDfpqozor4EKICAgICAgICAgICAgICAgIGFkZHJlc3M6dGhpcy5hZGRyZXNzLAogICAgICAgICAgICAgICAgZ29vZHNMaXN0OnRoaXMubGlzdHMsCiAgICAgICAgICAgICAgICB0eXBlOjEgLy/mnKrmlK/ku5gKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVybGlzdC9hZGQiLG9yZGVyKTsKCiAgICAgICAgICAgIC8vIOa4hemZpOi0reeJqei9puaVsOaNrgogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0Lmxpc3RzID0gW107CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmNhcnQubnVtID0gMDsKCiAgICAgICAgICAgIC8vIOi3s+i9rOi3r+eUsQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2NhcnQiKTsKICAgICAgICB9CiAgICAgICAgCiAgICB9LAogICAgY29tcHV0ZWQ6ewogICAgICAgIC8vIOaAu+S7t+agvOiuoeeulwogICAgICAgIHN1bSgpewogICAgICAgICAgICAvLyDmgLvku7fmoLzorqHnrpcKICAgICAgICAgICAgLy8gcmVkdWNlKCnov5Tlm57orqHnrpfmgLvku7fmoLwKICAgICAgICAgICAgLy8gdG90YWwg5oC75Lu35qC857Sv5YqgCiAgICAgICAgICAgIC8vIGl0ZW0g5pWw5o2u5Lit5a+56LGhCiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RzLnJlZHVjZSgodG90YWwsaXRlbSk9PnsKICAgICAgICAgICAgICAgIC8vIOWIpOaWremAiemhuQogICAgICAgICAgICAgICAgaWYoIWl0ZW0uaXNTZWxlY3QpIHJldHVybiB0b3RhbDsgLy9mYWxzZeS4jeiuqeiuoeeul+aAu+S7t+agvAogICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsICsgcGFyc2VJbnQoaXRlbS5wcmljZSkgKiBwYXJzZUludChpdGVtLm51bSk7Ly/mgLvku7fmoLwKICAgICAgICAgICAgfSwwKTsvL+aAu+S7t+agvOm7mOiupOWPguaVsOWAvOS4ujAKICAgICAgICB9CiAgICB9LAogICAgCiAgICBjcmVhdGVkKCl7CiAgICAgICAgLy8g6buY6K6k6I635Y+W5Zyw5Z2A5L+h5oGvCiAgICAgICAgbGV0IGRlZmF1bHRJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmFkZHJlc3MuZGVmYXVsdElkOwogICAgICAgIGxldCBkYXRhID0gdGhpcy4kc3RvcmUuc3RhdGUuYWRkcmVzcy5saXN0czsKICAgICAgICB0aGlzLmFkZHJlc3MgPSBkYXRhLmZpbmQoaXRlbT0+aXRlbS5pZCA9PSBkZWZhdWx0SWQpOyAvL+m7mOiupGlk5Yy56YWN5pWw57uE5LitaWTlgLwKICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmFkZHJlc3MubmFtZTsKICAgICAgICB0aGlzLnRlbCA9IHRoaXMuYWRkcmVzcy50ZWw7CgogICAgICAgIC8vIOiOt+WPlui0reeJqei9puaVsOaNrgogICAgICAgIHRoaXMubGlzdHMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0Lmxpc3RzOwoKCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudmFuVGFiYmFyID0gZmFsc2U7CiAgICB9LAogICAgLy8g55Sf5ZG95ZGo5pyf6ZKp5a2Q77yM5pyA5ZCO6ZSA5q+B5Ye95pWwCiAgICBkZXN0cm95ZWQoKSB7CiAgICAgICAgLy8g5b2T57uE5Lu26KKr6ZSA5q+B5pe25YCZ77yM5L+u5pS55a+86Iiq5pWw5o2uCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudmFuVGFiYmFyID0gdHJ1ZTsKICAgIH0sCn0K"},{"version":3,"sources":["order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"order.vue","sourceRoot":"src/components/cart","sourcesContent":["<template>\r\n    <div>\r\n        <van-nav-bar\r\n        :title=\"$route.name\"\r\n        left-text=\"返回\"\r\n        left-arrow\r\n        @click-left=\"orderpay\"\r\n        />\r\n        <!-- 地址 -->\r\n        <van-contact-card\r\n        type=\"edit\"\r\n        :name=\"name\"\r\n        :tel=\"tel\"\r\n        @click=\"add\"\r\n        />\r\n\r\n        <!-- 商品列表 -->\r\n        <div v-for=\"(item,index) in lists\" :key=\"index\">\r\n            <van-card\r\n            :num=\"item.num\"\r\n            :price=\"item.price\"\r\n            desc=\"描述信息\"\r\n            :title=\"item.name\"\r\n            thumb=\"https://img.yzcdn.cn/vant/ipad.jpeg\"\r\n            />\r\n        </div>\r\n\r\n        <!-- 提交订单 -->\r\n        <van-submit-bar\r\n        :price=\"sum*100\"\r\n        button-text=\"支付\"\r\n        @submit=\"onsubmit\"\r\n        />\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data:function(){\r\n            return {\r\n                name:\"\",\r\n                tel:\"\",\r\n                totals:0\r\n            }\r\n        },\r\n        methods:{\r\n            add(){\r\n                this.$router.push(\"/address\");\r\n            },\r\n            onsubmit(){\r\n                // 保存订单数据\r\n                let order = {\r\n                    orderId:new Date().getTime(), //1584064700947验证\r\n                    address:this.address,\r\n                    goodsList:this.lists,\r\n                    type:2 //已支付\r\n                }\r\n                this.$store.commit(\"orderlist/add\",order);\r\n                // 清除购物车数据\r\n                this.$store.state.cart.lists = [];\r\n                this.$store.state.cart.num = 0;\r\n\r\n                this.$router.push(\"/orderList/orderAll\");\r\n            },\r\n            // 未支付处理\r\n            orderpay(){\r\n                // 未支付订单处理\r\n                let order = {\r\n                    orderId:new Date().getTime(), //1584064700947验证\r\n                    address:this.address,\r\n                    goodsList:this.lists,\r\n                    type:1 //未支付\r\n                }\r\n                this.$store.commit(\"orderlist/add\",order);\r\n\r\n                // 清除购物车数据\r\n                this.$store.state.cart.lists = [];\r\n                this.$store.state.cart.num = 0;\r\n\r\n                // 跳转路由\r\n                this.$router.push(\"/cart\");\r\n            }\r\n            \r\n        },\r\n        computed:{\r\n            // 总价格计算\r\n            sum(){\r\n                // 总价格计算\r\n                // reduce()返回计算总价格\r\n                // total 总价格累加\r\n                // item 数据中对象\r\n                return this.lists.reduce((total,item)=>{\r\n                    // 判断选项\r\n                    if(!item.isSelect) return total; //false不让计算总价格\r\n                    return total + parseInt(item.price) * parseInt(item.num);//总价格\r\n                },0);//总价格默认参数值为0\r\n            }\r\n        },\r\n        \r\n        created(){\r\n            // 默认获取地址信息\r\n            let defaultId = this.$store.state.address.defaultId;\r\n            let data = this.$store.state.address.lists;\r\n            this.address = data.find(item=>item.id == defaultId); //默认id匹配数组中id值\r\n            this.name = this.address.name;\r\n            this.tel = this.address.tel;\r\n\r\n            // 获取购物车数据\r\n            this.lists = this.$store.state.cart.lists;\r\n\r\n\r\n            this.$store.state.vanTabbar = false;\r\n        },\r\n        // 生命周期钩子，最后销毁函数\r\n        destroyed() {\r\n            // 当组件被销毁时候，修改导航数据\r\n            this.$store.state.vanTabbar = true;\r\n        },\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>"]}]}